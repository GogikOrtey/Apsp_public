10.12.2025 17:42:02




--------------------------------------------------------------------------------------------------

                                        GLOBAL CODE GEN

--------------------------------------------------------------------------------------------------


field = name, stock, link, price, oldPrice, article, brand, imageLink, timestamp



--------------------------------------------------------------------------------------------------

                                       EXTRACTION SELECTOR

--------------------------------------------------------------------------------------------------


–û–±—Ä–∞–±–æ—Ç–∞–µ–º 2 —Å—Ç—Ä–∞–Ω–∏—Ü
üì§ –ë–µ—Ä–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –∫–µ—à–∞: https://hb-shop.by/katalog/lico/ochishhenie/micellyarnaya-voda/voda-micellyarnaya-ochischayuschaya-na-osnove-termalnoy-vody-dlya-chuvstvit-kozhi-i-kontura-glaz-250-ml.html (–≤–æ–∑—Ä–∞—Å—Ç 0.27 —á.)

–ù–∞–π–¥–µ–Ω–æ 32 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è name

–ù–∞–π–¥–µ–Ω–æ 56 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è price
‚¨ú –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–ª–µ oldPrice: –ù–µ —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ù–∞–π–¥–µ–Ω–æ 9 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è article

–ù–∞–π–¥–µ–Ω–æ 156 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è brand

–ù–∞–π–¥–µ–Ω–æ 213 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è InStock_trigger
‚¨ú –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–ª–µ OutOfStock_trigger: –ù–µ —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ù–∞–π–¥–µ–Ω–æ 37 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è imageLink
_______________________
üì§ –ë–µ—Ä–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ –∫–µ—à–∞: https://hb-shop.by/katalog/lico/kremy-dlya-lica/krem-sebium-gidra-sebium-hydra-40-ml.html (–≤–æ–∑—Ä–∞—Å—Ç 0.27 —á.)

–ù–∞–π–¥–µ–Ω–æ 64 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è name

–ù–∞–π–¥–µ–Ω–æ 59 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è price

–ù–∞–π–¥–µ–Ω–æ 11 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è oldPrice

–ù–∞–π–¥–µ–Ω–æ 9 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è article

–ù–∞–π–¥–µ–Ω–æ 154 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è brand

–ù–∞–π–¥–µ–Ω–æ 95 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è InStock_trigger
‚¨ú –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ–ª–µ OutOfStock_trigger: –ù–µ —Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ –ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ù–∞–π–¥–µ–Ω–æ 57 –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
–ù–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–ª—è imageLink
_______________________
–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è: ['name', 'price', 'oldPrice', 'article', 'brand', 'InStock_trigger', 'OutOfStock_trigger', 'imageLink']
–ö–∞–Ω–¥–∏–¥–∞—Ç—ã –ø–æ –ø–æ–ª—è–º (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):
 - name: 1 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['#modal_review > .modal__window > .modal__body > .modal__desc > .product-small.nohover > .product-small__body > .product-small__header > .product-small__title']
 - price: 2 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['.tovar__action-price.price > .new > span', '.tovar__action-price.price > .new._red > span:nth-of-type(1)']
 - oldPrice: 1 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['html > body.template.template--tovar > .template__body.container > main.template__main > .section > .tovar > .tovar__info > .tovar__action-price__wrapper > .tovar__action-price.price > .old > span']
 - article: 1 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['.pagetitle__subtitle']
 - brand: 1 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['#tab_chars > table tr:has(td:contains("–ë—Ä–µ–Ω–¥")) > td:nth-child(2)']
 - InStock_trigger: 1 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['#swiper_tovar_similar > .swiper-container > .swiper-wrapper > .swiper-slide > .product > .product__shorts.product-shorts > .product-shorts__item > span']
 - OutOfStock_trigger: 0 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> []
 - imageLink: 2 —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ -> ['#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item[href]', '#swiper_tovar_similar > .swiper-container > .swiper-wrapper > .swiper-slide > .product > .product__header > a.product__header-link._mobile[href]']
  [SKIP] oldPrice on https://hb-shop.by/katalog/lico/ochishhenie/micellyarnaya-voda/voda-micellyarnaya-ochischayuschaya-na-osnove-termalnoy-vody-dlya-chuvstvit-kozhi-i-kontura-glaz-250-ml.html: no expected value or no original selector
[WARN] –î–ª—è –ø–æ–ª—è OutOfStock_trigger –Ω–µ –Ω–∞–π–¥–µ–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä(—ã).

üìÑ –ö–µ—à —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ cache.json, –≤—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü: 33
   –î–æ–±–∞–≤–ª–µ–Ω–æ: 0, –æ–±–Ω–æ–≤–ª–µ–Ω–æ: 2


‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã:
{
    "name": [
        "#modal_review > .modal__window > .modal__body > .modal__desc > .product-small.nohover > .product-small__body > .product-small__header > .product-small__title"
    ],
    "price": [
        ".tovar__action-price.price > .new > span"
    ],
    "oldPrice": [
        "html > body.template.template--tovar > .template__body.container > main.template__main > .section > .tovar > .tovar__info > .tovar__action-price__wrapper > .tovar__action-price.price > .old > span"
    ],
    "article": [
        ".pagetitle__subtitle"
    ],
    "brand": [
        "#tab_chars > table tr:has(td:contains("–ë—Ä–µ–Ω–¥")) > td:nth-child(2)"
    ],
    "InStock_trigger": [
        "#swiper_tovar_similar > .swiper-container > .swiper-wrapper > .swiper-slide > .product > .product__shorts.product-shorts > .product-shorts__item > span"
    ],
    "OutOfStock_trigger": [],
    "imageLink": [
        "#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item[href]"
    ]
}



--------------------------------------------------------------------------------------------------

                                         PARSE CARD GEN

--------------------------------------------------------------------------------------------------


–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º parseCard
–û–±–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –µ—Å—Ç—å

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #modal_review > .modal__window > .modal__body > .modal__desc > .product-small.nohover > .product-small__body > .product-small__header > .product-small__title –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    –û—á–∏—â–∞—é—â–∞—è –º–∏—Ü–µ–ª–ª—è—Ä–Ω–∞—è –≤–æ–¥–∞ Uriage Eau Thermale –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–∏, 250 –º–ª
    –û—á–∏—â–∞—é—â–∞—è –º–∏—Ü–µ–ª–ª—è—Ä–Ω–∞—è –≤–æ–¥–∞ Uriage Eau Thermale –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–∂–∏, 250 –º–ª

    ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è name

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #modal_review > .modal__window > .modal__body > .modal__desc > .product-small.nohover > .product-small__body > .product-small__header > .product-small__title –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    –§–ª—é–∏–¥ —É–ª—å—Ç—Ä–∞—É–≤–ª–∞–∂–Ω—è—é—â–∏–π –ë–∏–æ–¥–µ—Ä–º–∞ –°–µ–±–∏—É–º / Bioderma Sebium Hydra, 40 –º–ª
    –§–ª—é–∏–¥ —É–ª—å—Ç—Ä–∞—É–≤–ª–∞–∂–Ω—è—é—â–∏–π –ë–∏–æ–¥–µ—Ä–º–∞ –°–µ–±–∏—É–º / Bioderma Sebium Hydra, 40 –º–ª

    ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è name

max_count_element_of_selectors = üü° 1
_____


–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .tovar__action-price.price > .new > span –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    43.24 —Ä—É–±.
    43.24 —Ä—É–±.

    üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ price
    p1 = 43.24
    p2 = 4324

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .tovar__action-price.price > .new > span –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    32.06 —Ä—É–±.
    32.06 —Ä—É–±.

    üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ price
    p1 = 32.06
    p2 = 3206

max_count_element_of_selectors = üü° 2
_____

–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è price

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä html > body.template.template--tovar > .template__body.container > main.template__main > .section > .tovar > .tovar__info > .tovar__action-price__wrapper > .tovar__action-price.price > .old > span –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    ‚¨ú –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É —Å–µ–ª–µ–∫—Ç–æ—Ä–∞  –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ 1 –¥–ª—è –ø–æ–ª—è oldPrice

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä html > body.template.template--tovar > .template__body.container > main.template__main > .section > .tovar > .tovar__info > .tovar__action-price__wrapper > .tovar__action-price.price > .old > span –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    42.75 —Ä—É–±.
    42.75 —Ä—É–±.

    üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ oldPrice
    p1 = 42.75
    p2 = 4275

max_count_element_of_selectors = üü° 2
_____

–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è oldPrice

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .pagetitle__subtitle –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    –ê—Ä—Ç–∏–∫—É–ª: 009327
    009327

    üü® –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .pagetitle__subtitle –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    –ê—Ä—Ç–∏–∫—É–ª: 840421
    840421

    üü® –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

max_count_element_of_selectors = üü° 2
_____

–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è article
üß¢ –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –¥–ª—è –ø–æ–ª—è article
–ü–æ—Å—ã–ª–∞—é –∑–∞–ø—Ä–æ—Å –∫ YandexGPT:

üí´ PROMPT:
–ï—Å—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥ –Ω–∞ JS: 
		const article = $(".pagetitle__subtitle")?.first().text()?.trim()
–û–¥–Ω–∞–∫–æ –æ–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç "–ê—Ä—Ç–∏–∫—É–ª: 009327"
–ê –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ–∫–∞—Ç—å: "009327"

–ò–∑–º–µ–Ω–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, —á—Ç–æ –±—ã –æ–Ω –¥–µ–ª–∞–ª —ç—Ç–æ.
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
‚Äî –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É ?. –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ .
‚Äî –ï—Å–ª–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ ?.at(i) –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è
‚Äî –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ø–æ—è—Å–Ω–µ–Ω–∏–π, –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏ —Ç–µ–∫—Å—Ç–∞ –≤–æ–∫—Ä—É–≥ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–¥–∞–π —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω—É—é 
—Å—Ç—Ä–æ–∫—É –∏–ª–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞.
    


üí¨ AI ANSWER:
"```
const article = $(".pagetitle__subtitle")?.first()?.text()?.trim()?.split(": ")?.at(1)?;
```"


–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #tab_chars > table tr:has(td:contains("–ë—Ä–µ–Ω–¥")) > td:nth-child(2) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    Uriage
    Uriage

    ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è brand

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #tab_chars > table tr:has(td:contains("–ë—Ä–µ–Ω–¥")) > td:nth-child(2) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    Bioderma
    Bioderma

    ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è brand

max_count_element_of_selectors = üü° 2
_____

–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è brand

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item[href] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
    –í —ç–ª–µ–º–µ–Ω—Ç–µ assets/images/catalog/39028_GUID_35670443-5253-11ef-8443-000c29025319.webp –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Å—Ç. –î–æ–±–∞–≤–ª—è–µ–º:
    https://hb-shop.byassets/images/catalog/39028_GUID_35670443-5253-11ef-8443-000c29025319.webp
    https://hb-shop.by/assets/images/catalog/39028_GUID_35670443-5253-11ef-8443-000c29025319.webp

    üü® –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä #swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item[href] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
    –í —ç–ª–µ–º–µ–Ω—Ç–µ assets/images/catalog/%D0%A3%D0%A2-00021136_GUID_cff010bf-bba5-11ee-8421-000c29025319.webp –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Å—Ç. –î–æ–±–∞–≤–ª—è–µ–º:
    https://hb-shop.byassets/images/catalog/%D0%A3%D0%A2-00021136_GUID_cff010bf-bba5-11ee-8421-000c29025319.webp
    https://hb-shop.by/assets/images/catalog/–£–¢-00021136_GUID_cff010bf-bba5-11ee-8421-000c29025319.webp

    üü® –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

max_count_element_of_selectors = üü° 2
_____

–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è imageLink
üß¢ –û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –∫ –ò–ò –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –¥–ª—è –ø–æ–ª—è imageLink
–ü–æ—Å—ã–ª–∞—é –∑–∞–ø—Ä–æ—Å –∫ YandexGPT:

üí´ PROMPT:
–ï—Å—Ç—å —Ç–∞–∫–æ–π –∫–æ–¥ –Ω–∞ JS: 
		const imageLink = $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item")?.first()?.attr("href")?.trim() ? HOST + $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item")?.first()?.attr("href")?.trim() : ""
–û–¥–Ω–∞–∫–æ –æ–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç "https://hb-shop.byassets/images/catalog/39028_GUID_35670443-5253-11ef-8443-000c29025319.webp"
–ê –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ–∫–∞—Ç—å: "https://hb-shop.by/assets/images/catalog/39028_GUID_35670443-5253-11ef-8443-000c29025319.webp"
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è HOST = https://hb-shop.by
–ò–∑–º–µ–Ω–∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, —á—Ç–æ –±—ã –æ–Ω –¥–µ–ª–∞–ª —ç—Ç–æ.
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
‚Äî –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ø–æ—á–∫—É ?. –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ—Å—Ç–æ .
‚Äî –ï—Å–ª–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ ?.at(i) –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è
‚Äî –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ø–æ—è—Å–Ω–µ–Ω–∏–π, –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏ —Ç–µ–∫—Å—Ç–∞ –≤–æ–∫—Ä—É–≥ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–¥–∞–π —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–ª—å–Ω—É—é 
—Å—Ç—Ä–æ–∫—É –∏–ª–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞.
    


üí¨ AI ANSWER:
"```
const imageLink = $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item").first()?.attr("href")?.trim()?.includes(HOST) ? $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item").first()?.attr("href")?.trim()?.replace(HOST + "/assets/", HOST) : ""
```"

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤:
üü©: name 
üí≤ : price  üü° > 1
üí≤ : oldPrice  üü° > 1
üü®: article  üü° > 1 üß¢ use –ò–ò
üü©: brand  üü° > 1
üü®: imageLink  üü° > 1 üß¢ use –ò–ò

–ò–º—è –ø–∞—Ä—Å–µ—Ä–∞: JS_Base_hbshopby



--------------------------------------------------------------------------------------------------

                                    FINAL RESULT PARSER CODE

--------------------------------------------------------------------------------------------------


import { getDefaultConf, defaultEditableConf, defaultOpts, getCacher } from "../Base-Custom/Constants";
import { AsyncHTTPXRequestOptsCustom, defaultConf, editableConf, Item } from "../Base-Custom/Types";
import { InvalidLinkError, NotFoundError } from "../Base-Custom/Errors";
import { JS_Base_Custom } from "../Base-Custom/Base-Custom";
import { getTimestamp } from "../Base-Custom/Utils";
import { SetType, tools } from "a-parser-types";
import { Cacher } from "../Base-Custom/Cache";
import {
    toArray, isBadLink,
    name, stock, link, price, oldPrice, article, brand, imageLink, timestamp
} from "../Base-Custom/Fields"
import * as cheerio from "cheerio";

//#region –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
type ResultItem = Item<typeof fields>

//#region –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const fields = {
    name, stock, link, price, oldPrice, article, brand, imageLink, timestamp
}

const HOST = "https://hb-shop.by"

export class JS_Base_hbshopby extends JS_Base_Custom {
    static defaultConf: defaultConf = {
            ...getDefaultConf(toArray(fields), "Œ∂", [isBadLink]),
            parsecodes: { 200: 1, 404: 1 },
            proxyChecker: "tor.proxy.ru",
            requestdelay: "3,5",
            engine: "a-parser",
            mode: "normal",
        };

    static editableConf: editableConf = [
        ...defaultEditableConf
    ];

    //#region –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
    async parse(set: SetType, results: { [key: string]: any }) {
        if (!set.type || set.type === "none") set.type = "page";
        if (!set.region || set.region === "none") set.region = "";
        try {
            switch (set.type) {
                case "page": {
                    if (!set.page || set.page === "none") set.page = 1;
                    await this.parsePage(set);
                    results.success = 1;
                    break;
                }
                case "card": {
                    const cacher = getCacher<ResultItem>(this, set)
                    let items = cacher.cache || await this.parseCard(set, cacher);
                    items.forEach(item => results.items.addElement(item));
                    results.success = 1;
                    break;
                }
                default:
                    this.logger.put("–£–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø —Å–±–æ—Ä–∞")
                    results.success = 0;
            }
        } catch (e: any) {
            if (e instanceof NotFoundError || e instanceof InvalidLinkError) {
                this.logger.put(e.message);
                results.isBadLink = 1;
                results.success = 1;
            } else {
                this.logger.put(`${e.name} >> ${e.message}   ${set.query}  type - ${set.type} page ${set.page} }`);
                results.success = 0;
            }
        }
        return results;
    }

    //#region –ü–∞—Ä—Å–∏–Ω–≥ –ø–æ–∏—Å–∫–∞
    

    //#region –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞
    async parseCard(set: SetType, cacher: Cacher<ResultItem[]>) {
        let items: ResultItem[] = []

        const data = await this.makeRequest(set.query);
        const $ = cheerio.load(data);

        const name = $("#modal_review > .modal__window > .modal__body > .modal__desc > .product-small.nohover > .product-small__body > .product-small__header > .product-small__title").text()?.trim()
		const stock = $("#swiper_tovar_similar > .swiper-container > .swiper-wrapper > .swiper-slide > .product > .product__shorts.product-shorts > .product-shorts__item > span").text()?.includes("–í –Ω–∞–ª–∏—á–∏–∏") ? "InStock" : "OutOfStock"
		const link = set.query
		const price = $(".tovar__action-price.price > .new > span")?.first().text()?.trim().formatPrice()
		const oldPrice = $("html > body.template.template--tovar > .template__body.container > main.template__main > .section > .tovar > .tovar__info > .tovar__action-price__wrapper > .tovar__action-price.price > .old > span")?.first().text()?.trim().formatPrice()
		const article = $(".pagetitle__subtitle")?.first()?.text()?.trim()?.split(": ")?.at(1)?;
		const brand = $("#tab_chars > table tr:has(td:contains("–ë—Ä–µ–Ω–¥")) > td:nth-child(2)")?.first().text()?.trim()
		const imageLink = $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item").first()?.attr("href")?.trim()?.includes(HOST) ? $("#swiper_tovar_gallery_1 > .gallery__top > .swiper-container > .swiper-wrapper > .swiper-slide > a.tovar__gallery-item").first()?.attr("href")?.trim()?.replace(HOST + "/assets/", HOST) : ""
        const timestamp = getTimestamp()

        const item: ResultItem = {
            name, stock, link, price, oldPrice, article, brand, imageLink, timestamp
        }
        items.push(item);

        cacher.cache = items
        return items;
    }

    //#region –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
    async makeRequest(url: string) {
        const opts: AsyncHTTPXRequestOptsCustom = {
            ...defaultOpts,
            engine: this.conf.engine,
            mode: this.conf.mode,
        };
        this.debugger.put(opts)

        const { success, headers, data } = await this.request("GET", url, {}, opts);
        this.debugger.put(data)

        if (!success || typeof data !== "string") throw new Error("–ù–µ—É–¥–∞—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å");
        if (headers.Status === 404) throw new NotFoundError();

        return data;
    }
}

// –ö–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω APSP v0.1
// –î–∞—Ç–∞: 10 –î–µ–∫ 2025
// ¬© BrandPol

üïö –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 14.09 —Å–µ–∫—É–Ω–¥
üß¢ –ö–æ–ª-–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –≤–Ω–µ—à–Ω–µ–º—É –ò–ò: 2
