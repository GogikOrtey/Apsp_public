08.12.2025 09:08:54

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä—ã, –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º parseCard
–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ —Ç—Ä–∏–≥–≥–µ—Ä InStock, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä h1.name –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
üí†–í–∞–Ω–Ω–∞ –∞–∫—Ä–∏–ª–æ–≤–∞—è 170—Ö70 –£–ª—å—Ç—Ä–∞-170 # –¢–†–ò–¢–û–ùüí†
üî∂–í–∞–Ω–Ω–∞ –∞–∫—Ä–∏–ª–æ–≤–∞—è 170—Ö70 –£–ª—å—Ç—Ä–∞-170 # –¢–†–ò–¢–û–ùüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä h1.name –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
üí†32,7—Ö32,7 –ú–æ–∑–∞–∏–∫–∞ Aqua 100 (–Ω–∞ –±—É–º–∞–≥–µ) 20*20*4 Bonaparteüí†
üî∂32,7—Ö32,7 –ú–æ–∑–∞–∏–∫–∞ Aqua 100 (–Ω–∞ –±—É–º–∞–≥–µ) 20*20*4 Bonaparteüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä h1.name –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
üí†–¢—É–º–±–∞ –ê–≥–∞—Ç–∞ 55 –Ω–∞–ø–æ–ª—å–Ω–∞—è —Å —É–º—ã–≤–∞–ª—å–Ω–∏–∫–æ–º –í–∏–∑–∏—Ç-55, –±–µ–ª–∞—è EMMYüí†
üî∂–¢—É–º–±–∞ –ê–≥–∞—Ç–∞ 55 –Ω–∞–ø–æ–ª—å–Ω–∞—è —Å —É–º—ã–≤–∞–ª—å–Ω–∏–∫–æ–º –í–∏–∑–∏—Ç-55, –±–µ–ª–∞—è EMMYüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
max_count_element_of_selectors = üü° 1
---
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .b –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
üí†–¶–µ–Ω–∞: 8 390 —Ä—É–±.üí†
üî∂8 390 —Ä—É–±.üî∂

üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ price
p1 = 8390.
p2 = 8390
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .b –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
üí†–¶–µ–Ω–∞: 1 860,10 —Ä—É–±.üí†
üî∂1 860,10üî∂

üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ price
p1 = 186010.
p2 = 1860.10
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .b –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
üí†–¶–µ–Ω–∞: 9 400,00 —Ä—É–±.üí†
üî∂9 400,00üî∂

üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ price
p1 = 940000.
p2 = 9400.00
max_count_element_of_selectors = üü° 1
---
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .thr –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
‚¨ú –ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —É —Å–µ–ª–µ–∫—Ç–æ—Ä–∞  –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ 1 –¥–ª—è –ø–æ–ª—è oldPrice
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .thr –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
üí†—Å—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞: 1 958 —Ä—É–±.üí†
üî∂1 958üî∂

üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ oldPrice
p1 = 1958.
p2 = 1958
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .thr –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
üí†—Å—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞: 12 450,00 —Ä—É–±.üí†
üî∂12 450,00üî∂

üí≤ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–µ oldPrice
p1 = 1245000.
p2 = 12450.00
max_count_element_of_selectors = üü° 1
---
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(1) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
üí†U4031689üí†
üî∂U4031689üî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(1) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
üí†B2508830üí†
üî∂B2508830üî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(1) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
üí†U4079315üí†
üî∂U4079315üî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
max_count_element_of_selectors = üü° 1
---
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(2) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
üí†–¢–†–ò–¢–û–ùüí†
üî∂–¢–†–ò–¢–û–ùüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(2) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
üí†Bonaparteüí†
üî∂Bonaparteüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä .char > p:nth-of-type(2) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
üí†EMMYüí†
üî∂EMMYüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
max_count_element_of_selectors = üü° 1
---
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä html > body > section.wrap > main > article.wide > .card > .img_bl > .img > a.fancybox[href] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ1
–í —ç–ª–µ–º–µ–Ω—Ç–µ /upload/iblock/db8/4db0f322_ffe9_11e6_94b1_002590746688_bed22781_05a3_11e7_94b1_002590746688.jpeg –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Å—Ç. –î–æ–±–∞–≤–ª—è–µ–º:
üí†https://stroytorg812.ru/upload/iblock/db8/4db0f322_ffe9_11e6_94b1_002590746688_bed22781_05a3_11e7_94b1_002590746688.jpegüí†
üî∂https://stroytorg812.ru/upload/iblock/db8/4db0f322_ffe9_11e6_94b1_002590746688_bed22781_05a3_11e7_94b1_002590746688.jpegüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä html > body > section.wrap > main > article.wide > .card > .img_bl > .img > a.fancybox[href] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ2
–í —ç–ª–µ–º–µ–Ω—Ç–µ /upload/iblock/672/fe473651_57f3_11e3_a425_00148557b27c_f22d79df_bddb_11e3_beaf_a65927533166.jpeg –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Å—Ç. –î–æ–±–∞–≤–ª—è–µ–º:
üí†https://stroytorg812.ru/upload/iblock/672/fe473651_57f3_11e3_a425_00148557b27c_f22d79df_bddb_11e3_beaf_a65927533166.jpegüí†
üî∂https://stroytorg812.ru/upload/iblock/672/fe473651_57f3_11e3_a425_00148557b27c_f22d79df_bddb_11e3_beaf_a65927533166.jpegüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä html > body > section.wrap > main > article.wide > .card > .img_bl > .img > a.fancybox[href] –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Ññ3
–í —ç–ª–µ–º–µ–Ω—Ç–µ /upload/iblock/6f8/103ef337_79a5_11f0_8c17_002590746688_b21dfec2_7e5d_11f0_8c17_002590746688.jpeg –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Å—Ç. –î–æ–±–∞–≤–ª—è–µ–º:
üí†https://stroytorg812.ru/upload/iblock/6f8/103ef337_79a5_11f0_8c17_002590746688_b21dfec2_7e5d_11f0_8c17_002590746688.jpegüí†
üî∂https://stroytorg812.ru/upload/iblock/6f8/103ef337_79a5_11f0_8c17_002590746688_b21dfec2_7e5d_11f0_8c17_002590746688.jpegüî∂

‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è
max_count_element_of_selectors = üü° 3
---
–ù–∞—à–ª–∏ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–æ–ª—è imageLink

    async parseCard(set: SetType, cacher: Cacher<ResultItem[]>) {
        let items: ResultItem[] = []

        const data = await this.makeRequest(set.query);
        const $ = cheerio.load(data);

        const name = $("h1.name").text()?.trim()
		const stock = $(".nal.y").text()?.includes("–µ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ") ? "InStock" : "OutOfStock"
		const link = set.query
		const price = $(".b").text()?.trim().formatPrice(",")
		const oldPrice = $(".thr").text()?.trim().formatPrice(",")
		const article = $(".char > p:nth-of-type(1)").text()?.trim()
		const brand = $(".char > p:nth-of-type(2)").text()?.trim()
		const imageLink = $("html > body > section.wrap > main > article.wide > .card > .img_bl > .img > a.fancybox")?.first()?.attr("href")?.trim() ? HOST + $("html > body > section.wrap > main > article.wide > .card > .img_bl > .img > a.fancybox")?.first()?.attr("href")?.trim() : ""
        const timestamp = getTimestamp()

        const item: ResultItem = {
            name, stock, link, price, oldPrice, article, brand, imageLink, timestamp
        }
        items.push(item);

        cacher.cache = items
        return items;
    }
    
